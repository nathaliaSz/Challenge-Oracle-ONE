<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="reset.css">
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter&display=swap" rel="stylesheet">
    <title>DecodificAlura</title>

    <script>
        function criptografar() {
            var textoOriginal = document.getElementById("textoOriginal").value;
            var textoCriptografado = "";
            for (var i = 0; i < textoOriginal.length; i++) {
                var letra = textoOriginal.charAt(i);
                switch (letra) {
                    case "a":
                        textoCriptografado += "ai";
                        break;
                    case "e":
                        textoCriptografado += "enter";
                        break;
                    case "i":
                        textoCriptografado += "imes";
                        break;
                    case "o":
                        textoCriptografado += "ober";
                        break;
                    case "u":
                        textoCriptografado += "ufat";
                        break;
                    default:
                        textoCriptografado += letra;
                }
            }
            document.getElementById("textoFinal").innerHTML = textoCriptografado;
        }

        function descriptografar() {
            var textoCriptografado = document.getElementById("textoOriginal").value;
                var textoDescriptografado = textoCriptografado;
                textoDescriptografado = textoDescriptografado.replace(/ai/g, 'a');
                textoDescriptografado = textoDescriptografado.replace(/enter/g, 'e');
                textoDescriptografado = textoDescriptografado.replace(/imes/g, 'i');
                textoDescriptografado = textoDescriptografado.replace(/ober/g, 'o');
                textoDescriptografado = textoDescriptografado.replace(/ufat/g, 'u');
                document.getElementById("textoFinal").innerText = textoDescriptografado;
        }
    </script>
</head>

<body>

    <img src="images/logoAlura.svg" alt="Logo Alura" class="logo">

    <main>
        <section class="receptor">

            <textarea id="textoOriginal" placeholder="Digite um texto"></textarea>

            <div class="receptor-alerta">
                <img src="images/alerta.svg" alt="Alerta">
                <p>Apenas letras min√∫sculas e sem acento.</p>
            </div>

            <div class="receptor-botoes">
                <button onclick="criptografar()" id="criptografar">Criptografar</button>

                <button onclick="descriptografar()" id="descriptografar">Descriptografar</button>
            </div>
        </section>

        <section class="decodificador">
            <div id="textoFinal">

                
            </div>
        
            <button onclick="copiarTexto()" id="copiarTexto">Copiar</button>
        </section>
    </main>

    <script>
        function copiarTexto() {
            var texto = document.getElementById("textoFinal").textContent;
            var areaDeTransferencia = document.createElement("textarea");
            areaDeTransferencia.value = texto;
            document.body.appendChild(areaDeTransferencia);
            areaDeTransferencia.select();
            areaDeTransferencia.setSelectionRange(0, 99999); 
            document.execCommand("copy");
            document.body.removeChild(areaDeTransferencia);
        }
    </script>

</body>

</html>